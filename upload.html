<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport">
    <meta name="author" content="WIF2003">
    <title>Upload Report</title>
    <!-- CSS -->
    <!-- <link rel="stylesheet" href="assets/css/style.css"> -->
    <!-- Google Fonts Poppins -->
    <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
    <!-- Argon CSS Bootstrap -->
    <link rel="stylesheet" href="assets/css/argon.css">
    <!-- Include Nucleo CSS Icons -->
    <link rel="stylesheet" href="assets/nucleo/css/nucleo.css">

    <style type="text/css">
        .btn {
            border: 2px solid gray;
            color: gray;
            background-color: white;
            padding: 8px 20px;
            border-radius: 8px;
            font-size: 20px;
            font-weight: bold;
        }
    </style>
</head>

<body class="bg-gradient-lighter">
<!--    <div class="wrapper">   -->
    <!--===== Sidebar =====-->
    <nav class="navbar bg-white shadow navbar-vertical fixed-left navbar-expand-md navbar-light">
        <div class="container-fluid">
            <!-- ORMMS Logo -->
            <a class="navbar-brand pt-0" href="index.html">
                <img src="assets/png/ormms.png" class="navbar-brand-img" alt="">
            </a>
            <div class="collapse navbar-collapse" id="sidenav-collapse-main">
                <!-- Navigation -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html"><i class="ni ni-tv-2 text-teal"></i>Overview</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="schedule.html"><i class="ni ni-calendar-grid-58 text-purple"></i>Schedule</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Checklist.html"><i class="ni ni-bullet-list-67 text text-green"></i>Checklist</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href=""><i class="ni ni-ruler-pencil text-yellow"></i>Notes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Research Progress.html"><i class="ni ni-cloud-upload-96 text-orange"></i>Research Progress</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="upload.html"><i class="ni ni-cloud-upload-96 text-pink"></i>Upload Report</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

<!--===== Main =====-->
<div class="main-content">
    <nav class="navbar navbar-top navbar-expand-md navbar-dark" id="navbar-main">
        <div class="container-fluid">
            <!-- Section -->
            <a class="h4 mb-0 text-white text-uppercase d-none d-lg-inline-block" href="./index.html">Overview</a>
            <!-- Search Form -->
            <form class="navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto">
                <div class="form-group mb-0">
                    <div class="input-group input-group-alternative">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-search"></i></span>
                        </div>
                        <input class="form-control" placeholder="Search" type="text">
                    </div>
                </div>
            </form>
        </div>
    </nav>

    <div class="header container-fluid bg-gradient-light pb-8 pt-5 pt-md-8">
        <div class="event_time_area">
            <div class="event_time_inner">
            <h1>Upload Report</h1>
            </div>
        </div>     
    </div>

    <!--===== Upload Report =====-->
    <div class="container-fluid" style="height: 600px">
        <div class="col-sm-9" style="height: 100%; margin-left:120px;">
<!--
            <form class="btn" action="upload.php" method="post" enctype="multipart/form-data">
                Select file to upload:
                    <input type="file" name="fileToUpload" id="fileToUpload">
                    <input type="submit" value="Upload File" name="submit">
            </form>
-->

<!--
            <form role="form" name="addNote" id="addSticky">
                <div class="control-group form-group">
                    <div class="controls"><br><br>
                        <label for="title">Submission comments</label>
                        <input type="text" class="form-control" id="notename">
                    </div>
                </div>
          
                <div id="success"></div>

                Select file to upload:
                <input type="file" name="fileToUpload" id="saveButton">

                <br><br>
                <button type="submit" class="btn btn-primary pull-right" id="submitButton" style="margin-bottom:10px">Add submission</button>
            </form>
-->

            <form role="form" name="addNote" id="addSticky">
                <div class="control-group form-group">
                    <div class="controls"><br><br>
                        <label for="title">Select file to upload:</label>
                        <input type="file" class="form-control" name="fileToUpload" id="notename" required
                        data-validation-required-message="You must upload a File">
                    </div>
                </div>

                <div class="control-group form-group">
                    <div class="controls">
                        <label for="content">Submission comments</label>
                        <textarea id="notecontent" class="form-control" maxlength="999" rows="18" required
                        style="resize: none;"></textarea>
                    </div>
                </div>

                <div id="success"></div>

                <button type="submit" class="btn btn-primary pull-right" id="saveButton" style="margin-bottom:10px">Add submission</button>
            </form>
            
        </div>

        <div class="col-sm-12" style="height: 100%;margin: auto">
            <h3>Add submission</h3>
                <div class="row border" style="height: 100%;overflow:auto;">
                    <div class="col-sm-12" id="container"> </div>
                </div>
        </div>
    </div>

    <!-- Edit -->
    <div class="modal fade" id="editModal" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Edit</h4>
                </div>
                <div class="modal-body">
                    <form role="form" name="editNote" id="editSticky">
                        <div class="control-group form-group">
                            <div class="controls">
                                <label for="title">Edit Submission</label>
                                <input type="text" class="form-control" id="editname" required />
                            </div>
                        </div>
                        <div class="control-group form-group">
                            <div class="controls">
                                <label for="content">Comments</label>
                                <textarea id="editcontent" class="form-control" maxlength="999" rows="10" cols="100" required
                                style="resize: none;"></textarea>
                            </div>
                        </div>
                        <div id="success"></div>
                        <button type="button" class="btn btn-primary pull-right" id="editButton" style="margin-bottom:10px"
                        data-dismiss="modal">Save</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete -->
    <div class="modal fade" id="deleteModal" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Delete</h4>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this file?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" id="deleteButton" data-dismiss="modal">Yes</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>
</div>


<!--

<--===== Upload Report =====->
<div class="container-fluid mt--7">


                <div class="row">
                    <div class="col-xl-8 mb-5 mb-xl-0">
                        <div class="card bg-white shadow">
                            <div class="upload-btn-wrapper">

                                

                                <form class="btn" action="upload.php" method="post" enctype="multipart/form-data">
                                    Select file to upload:
                                    <input type="file" name="fileToUpload" id="fileToUpload">
                                    <input type="submit" value="Upload File" name="submit">
                                </form>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
</div>

-->

    <br><br><hr>
    <footer class="text-center font-italic">
        Copyright &copy; ORMMS TEAM 1<br>
        <a href="mailto:umseclub@um.edu.my">ormmsteam1@um.edu.my</a>
    </footer>

    <script>
        var id;
        var i = 1;

        $(document).ready(function () 
        {
            document.getElementById("saveButton").onclick = function () 
            {
                if (CheckNote("notename", "notecontent")) 
                {
                    var element = CreateNote();
                    element.setAttribute("id", i++);
                    var insert = document.getElementById("container");

                    if (insert != null)
                        insert.insertBefore(element, insert.firstChild);
                    else
                        document.getElementById("container").appendChild(element);

                    return false;
                }
            return true;
            };

            document.getElementById("deleteButton").onclick = function () 
            {
                var toRemove = document.getElementById(id);
                toRemove.parentElement.removeChild(toRemove);

                var insert = document.getElementById("deteledContainer");

                if (insert != null)
                    insert.insertBefore(toRemove, insert.firstChild);
                else
                    document.getElementById("deletedContainer").appendChild(toRemove);

                document.getElementById("g0" + toRemove.id).remove();
                document.getElementById("g1" + toRemove.id).remove();
                document.getElementById("g2" + toRemove.id).remove();
                document.getElementById("glyphContainer" + toRemove.id).appendChild(RestoreGlyph(toRemove.id));

                toRemove.className += " grayout";
            };

            document.getElementById("yesButton").onclick = function () 
            {
                var toMove = document.getElementById(id);
                toMove.parentElement.removeChild(toMove);
                toMove.className += " grayout";

                document.getElementById("container").appendChild(toMove);
                var glyph = document.getElementById("g1" + toMove.id);
                glyph.removeAttribute("data-toggle");
                glyph.removeAttribute("data-target");
            };

            document.getElementById("editButton").onclick = function () 
            {
                if (CheckNote("editname", "editcontent")) 
                {
                    var newTitle = document.getElementById("heading" + id);
                    newTitle.textContent = document.getElementById("editname").value;

                    var newBody = document.getElementById("glyphContainer" + id);
                    newBody.textContent = document.getElementById("editcontent").value;
                    newBody.innerHTML += '<br/><br/>';

                    if (newBody.parentElement.parentElement.parentElement.id == "container")
                        newBody = createGlyphs(newBody, id);
                    else
                        newBody.appendChild(RestoreGlyph(id));

                    return false;
                };

                return true;
            };
        });

        function YesGlyph(currentId) 
        {
            var span1 = document.createElement("span");
            span1.className = "glyphicon glyphicon-ok pull-right";
            span1.setAttribute("id", 'g1' + currentId);
            span1.setAttribute("onclick", "okGlyphInDiv(this)");
            span1.setAttribute("data-toggle", "modal");
            span1.setAttribute("data-target", "#okModal");

            return span1;
        };

        function NoGlyph(currentId) 
        {
            var span2 = document.createElement("span");
            span2.className = "glyphicon glyphicon-remove pull-right";
            span2.setAttribute("id", 'g2' + currentId);
            span2.setAttribute("onclick", "okGlyphInDiv(this)");
            span2.setAttribute("data-toggle", "modal");
            span2.setAttribute("data-target", "#deleteModal");

            return span2;
        };

        function EditGlyph(currentId) 
        {
            var glyph = document.createElement("span");
            glyph.className = "glyphicon glyphicon-edit pull-right";
            glyph.setAttribute("id", 'g0' + currentId);
            glyph.setAttribute("onclick", "okGlyph(this)");
            glyph.setAttribute("data-toggle", "modal");
            glyph.setAttribute("data-target", "#editModal");
            glyph.style.position = "absolute";
            glyph.style.top = "0";
            glyph.style.right = "0";
            glyph.style.marginRight = "5px";
            glyph.style.marginTop = "5px";

            return glyph;
        };

        function okGlyph(that) 
        {
            id = that.parentElement.parentElement.parentElement.id;
        };

        function okGlyphInDiv(that) 
        {
            id = that.parentElement.parentElement.parentElement.parentElement.id;
        };

        function CreateReport() 
        {
            var note = document.createElement("div");
            note.className = "col-sm-9 margin";
            note.setAttribute("id", "notehover");
            var panel = document.createElement("div");
            panel.className = "panel panel-default";
            panel.style.height = "200px";
            var heading = document.createElement("div");
            heading.className = "panel-body headingcolor";
            heading.setAttribute("id", "heading" + i);
            heading.textContent = document.getElementById("notename").value;
            var body = document.createElement("div");
            body.className = "panel-body";
            body.setAttribute("id", "glyphContainer" + i);
            body.setAttribute("contenteditable",true);
            body.style.overflow = "hidden";
            body.style.position = "relative";
            body.style.height = "73%";
            body.textContent = document.getElementById("notecontent").value;
            body.innerHTML += '<br/><br/>';
            body = createGlyphs(body, i);
            panel.appendChild(heading);
            panel.appendChild(body);
            note.appendChild(panel);

            return note;
        };

        function createGlyphs(body, id) 
        {
            var cont = document.createElement("div");
            cont.style.position = "absolute";
            cont.style.bottom = "0";
            cont.style.right = "0";
            cont.style.marginRight = "5px";
            cont.style.marginBottom = "5px";
            body.insertBefore(EditGlyph(id), body.firstChild);
            cont.appendChild(NoGlyph(id));
            body.appendChild(cont);

            return body;
        };

        function CheckReport(nameId, contentId) 
        {
            if (document.getElementById(nameId).value == "" || document.getElementById(contentId).value == "")
                return false;

            return true;
        };
    </script>
    
    <script src="assets/js/argon.js"></script>
    <script src="assets/js/jquery-3.3.1.min.js"></script>
    <script src="assets/flipclock/timer.js"></script>
    <script src="assets/counter-up/jquery.counterup.js"></script>
    <script src="assets/counter-up/jquery.waypoints.min.js"></script>
</body>

</html>